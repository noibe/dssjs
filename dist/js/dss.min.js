/*!
 * Villa DSS.JS v1.0.0 (http://getvilla.org/)
 * Copyright 2013-2015 Noibe Developers
 * Licensed under MIT (https://github.com/noibe/villa/blob/master/LICENSE)
 */
var runPropertyModel=function(e){if(e instanceof Array){var r={};return r.name=e[0],"string"==typeof e[1]?(r.value=e[1],e[2]&&(r.important=!0)):"string"==typeof e[2]&&(r.important=!0,r.value=e[2]),r}return e},runPropertiesModel=function(e){for(var r=[],t=e.length;t--;)r.push(runPropertyModel(e[t]));return r},runRuleModel=function(e){var r={};return e instanceof Array?(r.selector=e[0],r.properties=runPropertiesModel(e[1])):(r.selector=e.selector,r.properties=runPropertiesModel(e.properties)),r},runScopeModel=function(e){if(e instanceof Array)return runRuleModel(e);if(!e.type||!e.rules)return runRuleModel(e);var r=[];if(e.rules instanceof Array){for(var t=e.rules.length;t--;)r.push(runRuleModel(e.rules[t]));return{type:e.type,features:e.features,rules:r}}},runStyleSheetModel=function(e){var r=[];if(e instanceof Array)if("string"!=typeof e[0])for(var t=e.length;t--;)r.push(runScopeModel(e[t]));else r.push(runRuleModel(e));else e.selector&&r.push(e);return r.length?r:!1},debugStyleSheet=function(e){return runStyleSheetModel(e)},buildPropertyString=function(e){var r=e.name;return r+=": "+e.value,r+=e.important?" !important;":";"},buildRuleString=function(e){for(var r=e.properties,t=e.selector,n="",u=r.length;u--;)n+=buildPropertyString(r[u]);return{selector:t,rules:n}},buildScopeString=function(e){for(var r="@"+e.type+" "+e.features+" { ",t=e.rules.length;t--;){var n=buildRuleString(e.rules[t]);r+=n.selector+" { "+n.rules+" } "}return r+" }"},buildStyleString=function(e){for(var r=[],t=e.length;t--;)r.push(e[t].type||e[t].rules?buildScopeString(e[t]):buildRuleString(e[t]));return r},addRule=function(e){var r,t=document.createElement("style"),n=document.head||document.getElementsByTagName("head")[0];n.appendChild(t),r=t.sheet||document.styleSheets[0];for(var u=e.length;u--;)"insertRule"in r?"string"==typeof e[u]?r.insertRule(e[u],0):r.insertRule(e[u].selector+" { "+e[u].rules+" } ",0):"addRule"in r&&r.addRule(e[u].selector,e[u].rules)},addStyle=function(e,r){r&&(e=debugStyleSheet(e)),addRule(buildStyleString(e))};